<!-- PROJECT SHIELDS -->

[![Contributors][contributors-shield]][contributors-url]
[![Forks][forks-shield]][forks-url]
[![Stargazers][stars-shield]][stars-url]
[![Issues][issues-shield]][issues-url]
[![MIT License][license-shield]][license-url]
[![WebSite][website-shield]][website-url]

[contributors-shield]: https://img.shields.io/github/contributors/Open-Source-Drilling-Community/YPLCalibrationFromRheometer?logo=GitHub
[contributors-url]: https://github.com/Open-Source-Drilling-Community/YPLCalibrationFromRheometer/graphs/contributors
[forks-shield]: https://img.shields.io/github/forks/Open-Source-Drilling-Community/YPLCalibrationFromRheometer?logo=GitHub
[forks-url]: https://github.com/Open-Source-Drilling-Community/YPLCalibrationFromRheometer/network/members
[stars-shield]: https://img.shields.io/github/stars/Open-Source-Drilling-Community/YPLCalibrationFromRheometer?color=%230000ff&logo=GitHub
[stars-url]: https://img.shields.io/github/stars/Open-Source-Drilling-Community/YPLCalibrationFromRheometer?style=flat-square
[issues-shield]: https://img.shields.io/github/issues/Open-Source-Drilling-Community/YPLCalibrationFromRheometer?color=%23FF0000&logo=GitHub
[issues-url]: https://github.com/Open-Source-Drilling-Community/YPLCalibrationFromRheometer/issues
[license-shield]: https://img.shields.io/github/license/Open-Source-Drilling-Community/YPLCalibrationFromRheometer?color=%2300FFFF
[license-url]: https://github.com/Open-Source-Drilling-Community/YPLCalibrationFromRheometer/blob/master/LICENSE
[website-shield]: https://img.shields.io/badge/foo-bar%20far%20away-red.svg?logo=data:image/png;base64,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
[website-url]: https://opensourcedrilling.org/

Yield Power Law Model Calibration Methods
===

Content
===
This repository contains a microservice and webapp used to calibrate flow curves against the Yield Power Law rheological behavior (Herschel-Bulkley) and correct Fann35 rheometer measurements for non-Newtonian effects after Skadsem and Saasen (2019) and Lac and Parry (2017).

Scope
===
Drilling and completion operations are strongly affected by the rheological behavior of the mud and the cement slurry. For instance, it directly impacts the cleaning of the hole from drilling debris, the stability of the well when pumps are off during a connection, the pump pressure and hence the global energy required to drill the well or the quality and setting time of cementing operations.

The drilling mud is formulated by the mud engineer who regularly checks for its viscosity which should not be too high to limit pressure losses and for its yield point which should not be too low to efficiently lift drilling cuttings. Whereas in the field a simple 2-parameters model such as the Bingham Plastic model is generally used to describe the rheological behavior of the mud, it is more and more widely recognized that drilling fluids are better described by 3-parameters models such as the Yield-Power-Law model, also known as Herschel-Bulkley model.

Every 6-12 hours, the mud engineer takes a mud sample from the mud pit and conduct rheometer measurements, using a concentric-cylinders-type rheometer, also known as Couette rheometer. In the field, the Fann35 R1B1 model is used as a standard. The measurement consists in: setting the fluid sample between a static inner cylinder and a rotating outer cylinder; varying the RPM of the outer cylinder in the range [3,6,100,200,300,600 RPM]; measuring the reactive torque of the inner cylinder. Under the assumption that the fluid behaves as Newtonian these values are then respectively converted into shear rate and shear stress values. The resulting relationship between the shear rate and the shear stress describes the intrinsic rheological behavior of the mud and is called the flow curve.

Adjusting the flow curve on the Yield-Power-Law curve gives more accurate results than adjusting it on a Bingham Plastic curve: this allows to better discriminate between different mud formulations and also to better describe the rheological behavior of the drilling mud at low shear rate, which is critical in the annulus where the shear rate of the drilling fluid drops significantly in comparison to the shear rates reached within the drill pipes.


Software features
===
The first objective of the program is to allow the user to calibrate (e.g. adjust/fit) any flow curve (obtained from any type of rheometer) against the Herschel-Bulkley model either by setting rheometer measurements manually or by loading csv/xlsx files that contain flow curves.

The second objective is to account for recent advancements reached in the field mud rheology that have shown that calibration performed on flow curves that have been built under the Newtonian assumption leads to inaccurate results for a wide range of drilling fluids (mud, spacer, slurry). Hence, based on Skadsem and Saasen (2019), the program allows the user to generate corrected rheometer measurements that account for non-Newtonian effects in the estimation of the shear rate, under the Yield-Power-Law assumption. Similarly, based on Lac and Parry (2017), an additional correction process is provided that accounts for non-Newtonian effects in the estimation of the shear stress when using 3 standard Fann35 rheometers (of type R1B1, R1B2 and R1B5).


Software architecture
===
The program is composed of: 
-	a webapp that allows to handle rheometer measurements and launch computations in a user-friendly way. It is packaged as a docker container and deployed on a NORCE server at the following endpoints (3 different webpages):
o	https://app.digiwells.no/YPLCalibrationFromRheometer/webapp/Rheograms
o	https://app.digiwells.no/YPLCalibrationFromRheometer/webapp/YPLCalibrations
o	https://app.digiwells.no/YPLCalibrationFromRheometer/webapp/YPLCorrections
-	a microservice that performs the core computations and can be queried by any 3rd party client (a web navigator or any other online application) through http-requests. It is packaged as a docker container and deployed on a NORCE server at the following endpoints:
o	https://app.digiwells.no/YPLCalibrationFromRheometer/api/Rheograms 
o	https://app.digiwells.no/YPLCalibrationFromRheometer/api/YPLCalibrations
o	https://app.digiwells.no/YPLCalibrationFromRheometer/api/YPLCorrections
-	Its api is accessible at the following url:
o	https://app.digiwells.no/YPLCalibrationFromRheometer/api/swagger/index.html

More info
===
Both the microservice and the webapp, their API, architecture and workflow are described in the wiki page of the current github repository.

